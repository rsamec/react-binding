function extractPrototype(t){var e={};for(var n in t.prototype)e[n]=t.prototype[n];return e}var DataBinding;!function(t){var e=function(){function t(t){this.source=t}return t.prototype.getValue=function(t){var e=this.getParent(t);if(void 0!==e){var n=this.getProperty(t);return e[n]}},t.prototype.setValue=function(t,e){var n=this.getParent(t);if(void 0!==n){var i=this.getProperty(t);n[i]=e}},t.prototype.getParent=function(t){var e=t.lastIndexOf(".");return-1!=e?this.string_to_ref(this.source,t.substring(0,e)):this.source},t.prototype.getProperty=function(t){var e=t.lastIndexOf(".");return-1!=e?t.substring(e+1,t.length):t},t.prototype.string_to_ref=function(t,e){var n=e.split("."),i=t[n[0]];if(!n[1])return void 0===i&&(i=t[n[0]]={}),i;if(void 0==i)return void 0;n.splice(0,1);var r=n.join(".");return this.string_to_ref(i,r)},t}();t.PathObjectBinder=e;var n=function(){function t(t,n,i){this.sourceObject=t,this.path=n,this.notifyChange=i,this.source=new e(this.sourceObject)}return Object.defineProperty(t.prototype,"requestChange",{get:function(){var t=this;return function(e){t.value=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return void 0===this.path?this.sourceObject:this.source.getValue(this.path)},set:function(t){if(void 0!==this.path){var e=this.source.getValue(this.path);e!==t&&(this.source.setValue(this.path,t),void 0!==this.notifyChange&&this.notifyChange())}},enumerable:!0,configurable:!0}),t}();t.PathObjectBinding=n;var i=function(){function t(t,n,i){this.sourceObject=t,this.path=n,this.notifyChange=i,this.source=new e(this.sourceObject)}return Object.defineProperty(t.prototype,"items",{get:function(){var t=this.source.getValue(this.path);return void 0===t?[]:t.map(function(t){return new n(t,void 0,this.notifyChange)},this)},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this.source.getValue(this.path);void 0!==e&&(void 0===t&&(t={}),e.push(t),void 0!==this.notifyChange&&this.notifyChange())},t.prototype.remove=function(t){var e=this.source.getValue(this.path);if(void 0!==e){var n=e.indexOf(t);-1!==n&&(e.splice(n,1),void 0!==this.notifyChange&&this.notifyChange())}},t}();t.ArrayObjectBinding=i;var r=function(){function t(t,e){this.parentBinding=t,this.relativePath=e}return Object.defineProperty(t.prototype,"source",{get:function(){return this.parentBinding.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"notifyChange",{get:function(){return this.parentBinding.notifyChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestChange",{get:function(){var t=this;return function(e){t.value=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return void 0===this.parentBinding.path?this.relativePath:[this.parentBinding.path,this.relativePath].join(".")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.source.getValue(this.path)},set:function(t){var e=this.source.getValue(this.path);e!==t&&(this.source.setValue(this.path,t),void 0!==this.notifyChange&&this.notifyChange())},enumerable:!0,configurable:!0}),t}();t.PathParentBinding=r;var o=function(){function t(){}return t.prototype.createStateKeySetter=function(t,e){return function(){return t.setState({key:t.state[e]})}},t.prototype.bindToState=function(t,e){return new n(this.state[t],e,this.createStateKeySetter(this,t))},t.prototype.bindTo=function(t,e){return new r(t,e)},t.prototype.bindArrayToState=function(t,e){return new i(this.state[t],e,this.createStateKeySetter(this,t))},t}();t.BindToMixin=o}(DataBinding||(DataBinding={}));var BindToMixin=extractPrototype(DataBinding.BindToMixin);